<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Báo Tin - Hệ Thống Cứu Hộ Quốc Gia</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/post.css">
</head>
<body class="bg-gray-50">
    <nav class="bg-white shadow-md sticky top-0 z-50 ">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                    <span class="text-2xl font-bold bg-gradient-to-r from-red-500 to-orange-500 bg-clip-text text-transparent">CỨU HỘ QUỐC GIA</span>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="nav-link text-gray-700 hover:text-red-500 font-medium transition">Trang chủ</a>
                    <a href="map.html" class="nav-link text-gray-700 hover:text-red-500 font-medium transition">Bản đồ cứu hộ</a>
                    <a href="request.html" class="nav-link text-gray-700 hover:text-red-500 font-medium transition">Bản tin</a>
                    <a href="post.html#report" class="nav-link text-red-500 font-bold transition">Báo tin</a>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="menu-toggle" class="text-gray-700 hover:text-red-600" aria-label="Toggle menu">
                        <i data-feather="menu"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white py-2 px-4 shadow-lg">
            <a href="index.html#home" class="block py-2 text-gray-700 hover:text-red-600 transition">Trang chủ</a>
            <a href="map.html" class="block py-2 text-gray-700 hover:text-red-600 transition">Bản đồ cứu hộ</a>
            <a href="request.html" class="block py-2 text-red-600 font-bold transition">Bản tin</a>
            <a href="post.html#report" class="block py-2 text-gray-700 hover:text-red-600 transition">Báo tin</a> 
            <a href="login.html" class="block py-2 text-white bg-red-600 rounded-md text-center mt-2">Đăng nhập</a>
        </div>
    </nav>

    <!-- Nút gọi điện khẩn cấp -->
    <div class="emergency-call-btn" onclick="makeEmergencyCall()">
        <i data-feather="phone"></i>
    </div>

    <section id="report" class="hero-section py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-lg shadow-xl max-w-2xl mx-auto p-6">
                <div class="flex justify-between items-center mb-6">
                   <h3 class="text-2xl font-bold text-gray-900 text-center">Báo Cáo Sự Cố Khẩn Cấp</h3>
                </div>
                
                <!-- Cảnh báo pháp lý -->
                <div class="legal-warning p-4 rounded-r mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i data-feather="alert-triangle" class="h-5 w-5 text-amber-600"></i>
                        </div>
                        <div class="ml-3">
                            <h4 class="text-sm font-bold text-amber-800">CẢNH BÁO PHÁP LÝ QUAN TRỌNG</h4>
                            <p class="text-sm text-amber-700 font-medium mt-1">
                                HỆ THỐNG NÀY CHỈ SỬ DỤNG CHO CÁC TÌNH HUỐNG KHẨN CẤP THỰC SỰ. 
                                <span class="font-bold">BÁO CÁO SAI SỰ THẬT, CUNG CẤP THÔNG TIN GIẢ MẠO SẼ BỊ XỬ LÝ THEO QUY ĐỊNH CỦA PHÁP LUẬT VIỆT NAM</span> 
                                (Điều 142, 330 Bộ luật Hình sự 2015).
                            </p>
                        </div>
                    </div>
                </div>

                <div class="mb-6">
                    <div class="bg-gray-200 rounded-full h-1">
                        <div id="progress-bar" class="progress-bar rounded-full w-1/2"></div>
                    </div>
                    <div class="flex justify-between text-sm text-gray-500 mt-2">
                        <span>Bước 1: Thông tin cá nhân</span>
                        <span>Bước 2: Chi tiết sự cố</span>
                    </div>
                </div>

                <form id="emergency-report-form" class="space-y-6">
                    <!-- Bước 1: Thông tin cá nhân -->
                    <div class="step active" id="step-1">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="emergency-name" class="block text-sm font-medium text-gray-700 mb-1">Họ và tên *</label>
                                <input type="text" id="emergency-name" required class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                            </div>
                            <div>
                                <label for="cccd" class="block text-sm font-medium text-gray-700 mb-1">Số CCCD *</label>
                                <input type="text" id="cccd" required pattern="[0-9]{12}" title="Số CCCD gồm 12 chữ số" class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition" placeholder="Nhập 12 chữ số CCCD">
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <label for="emergency-phone" class="block text-sm font-medium text-gray-700 mb-1">Số điện thoại *</label>
                            <input type="tel" id="emergency-phone" required pattern="[0-9]{10,11}" title="Số điện thoại Việt Nam (10-11 số)" class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition" placeholder="Nhập số điện thoại">
                        </div>

                        <div class="mt-4">
                            <label for="emergency-email" class="block text-sm font-medium text-gray-700 mb-1">Email (tùy chọn)</label>
                            <input type="email" id="emergency-email" class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                        
                        <!-- Xác nhận thông tin trung thực -->
                        <div class="mt-6 p-4 border border-amber-300 rounded-lg bg-amber-50">
                            <div class="flex items-start">
                                <input type="checkbox" id="confirm-truthful" required class="legal-checkbox mt-1 mr-3 w-4 h-4">
                                <label for="confirm-truthful" class="text-sm text-amber-800 font-medium">
                                    <span class="font-bold">TÔI CAM KẾT:</span> Tất cả thông tin cung cấp trên đây là hoàn toàn trung thực và chính xác. 
                                    Tôi hiểu rằng việc cung cấp thông tin sai sự thật sẽ bị xử lý theo quy định của pháp luật.
                                </label>
                            </div>
                        </div>
                        
                        <div class="mt-6 flex justify-end">
                            <button type="button" id="next-step-1" class="bg-red-600 hover:bg-red-700 text-white py-3 px-6 rounded-md transition shadow-md flex items-center justify-center font-medium">
                                Tiếp theo <i data-feather="arrow-right" class="ml-2 w-4 h-4"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Bước 2: Chi tiết sự cố -->
                    <div class="step" id="step-2">
                        <!-- Cảnh báo ở bước 2 -->
                        <div class="bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r mb-6">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i data-feather="alert-octagon" class="h-5 w-5 text-amber-600"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm text-amber-700 font-medium">
                                        <span class="font-bold">LƯU Ý QUAN TRỌNG:</span> Chỉ báo cáo các sự cố khẩn cấp thực sự. 
                                        Báo cáo sai gây lãng phí nguồn lực cứu hộ và có thể bị truy cứu trách nhiệm hình sự.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label for="emergency-type" class="block text-sm font-medium text-gray-700 mb-1">Loại sự cố *</label>
                            <select id="emergency-type" required class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                                <option value="">Chọn loại sự cố</option>
                                <option value="fire">Hỏa hoạn</option>
                                <option value="flood">Ngập lụt</option>
                                <option value="traffic">Tai nạn giao thông</option>
                                <option value="medical">Cấp cứu y tế</option>
                                <option value="disaster">Thiên tai khác (bão, lở đất...)</option>
                                <option value="other">Khác (mô tả bên dưới)</option>
                            </select>
                        </div>
                        <div class="mt-4">
                            <label for="emergency-location" class="block text-sm font-medium text-gray-700 mb-1">Địa điểm sự cố *</label>
                            <input type="text" id="emergency-location" placeholder="Nhập địa chỉ chi tiết (ví dụ: Số 123, Đường ABC, Quận 1, TP.HCM)" required class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                            <div class="location-btn" onclick="getCurrentLocation()">
                                <i data-feather="map-pin"></i> Sử dụng vị trí hiện tại
                            </div>
                        </div>
                        <div class="mt-4">
                            <label for="emergency-description" class="block text-sm font-medium text-gray-700 mb-1">Mô tả chi tiết *</label>
                            <textarea id="emergency-description" rows="5" required class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition" placeholder="Mô tả tình hình hiện tại, nguyên nhân, số người bị thương, nhu cầu hỗ trợ cụ thể..."></textarea>
                        </div>
                        
                        <!-- Phần upload media -->
                        <div class="mt-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tải lên hình ảnh/video (tùy chọn, tối đa 3 file)</label>
                            <div class="flex items-center justify-center w-full">
                                <label class="flex flex-col w-full h-32 border-2 border-dashed border-gray-300 hover:border-red-300 rounded-md cursor-pointer">
                                    <div class="flex flex-col items-center justify-center pt-7">
                                        <i data-feather="upload" class="w-8 h-8 text-gray-400"></i>
                                        <p class="pt-1 text-sm text-gray-600">Kéo thả file vào đây hoặc click để chọn (ảnh/video)</p>
                                    </div>
                                    <input type="file" class="hidden" id="emergency-media" multiple accept="image/*,video/*">
                                </label>
                            </div>
                            <div id="media-preview" class="mt-4 grid grid-cols-3 gap-4"></div>
                        </div>
                        
                        <!-- Xác nhận cuối cùng trước khi gửi -->
                        <div class="mt-6 p-4 border border-red-300 rounded-lg bg-red-50">
                            <div class="flex items-start">
                                <input type="checkbox" id="confirm-emergency" required class="legal-checkbox mt-1 mr-3 w-4 h-4">
                                <label for="confirm-emergency" class="text-sm text-red-800 font-medium">
                                    <span class="font-bold">XÁC NHẬN CUỐI CÙNG:</span> Đây là tình huống khẩn cấp thực sự cần sự hỗ trợ 
                                    của lực lượng cứu hộ. Tôi cam kết thông tin cung cấp là hoàn toàn chính xác.
                                </label>
                            </div>
                        </div>
                        
                        <div class="mt-6 flex justify-between">
                            <button type="button" id="prev-step-2" class="bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-md transition shadow-md flex items-center justify-center font-medium">
                                <i data-feather="arrow-left" class="mr-2 w-4 h-4"></i> Quay lại
                            </button>
                            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white py-3 px-6 rounded-md transition shadow-md flex items-center justify-center font-medium">
                                <i data-feather="send" class="mr-2 w-4 h-4"></i> Gửi Báo Cáo Khẩn
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Modal chờ xác nhận -->
    <div id="pending-modal" class="success-modal">
        <div class="success-modal-content">
            <div class="success-icon">
                <i data-feather="clock"></i>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-2">Báo Cáo Đã Được Gửi Thành Công!</h3>
            <p class="text-gray-600 mb-4">Báo cáo của bạn đang chờ được xác nhận bởi quản trị viên.</p>
            <p class="text-sm text-amber-600 mb-6">Vui lòng chờ trong khi chúng tôi xử lý yêu cầu của bạn.</p>
            <div class="flex justify-center space-x-4">
                <button onclick="closePendingModal()" class="bg-red-600 hover:bg-red-700 text-white py-2 px-6 rounded-md transition">
                    Đóng
                </button>
            </div>
        </div>
    </div>

    <footer class="bg-gray-900 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
                <div>
                    <div class="flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                        </svg>
                        <span class="text-2xl font-bold bg-gradient-to-r from-red-500 to-orange-500 bg-clip-text text-transparent">CỨU HỘ QUỐC GIA</span>
                    </div>
                    <p class="text-gray-400 leading-relaxed">Kết nối người dân với lực lượng cứu hộ trong các tình huống khẩn cấp.</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Dịch Vụ</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Cứu hỏa</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Cứu hộ giao thông</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Y tế khẩn cấp</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Ứng phó thiên tai</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Liên Kết</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Bộ Công An</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Bộ Y Tế</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Ban Chỉ Đạo PCTT</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Cục Cứu Hộ Cứu Nạn</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Hỗ Trợ</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Câu hỏi thường gặp</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Hướng dẫn sử dụng</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Chính sách bảo mật</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Điều khoản dịch vụ</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-12 pt-8 text-center text-gray-400">
                <p>© 2023 Hệ Thống Cứu Hộ Quốc Gia. Bản quyền thuộc về Bộ Công An.</p>
            </div>
        </div>
    </footer>
    
    <script src="assets/js/post.js"></script>
</body>
</html>