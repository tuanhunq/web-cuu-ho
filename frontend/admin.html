<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản Trị Hệ Thống - Cứu Hộ Quốc Gia</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Link to external CSS -->
    <link rel="stylesheet" href="assets/css/admin.css">
</head>
<body class="bg-gray-50">
    <!-- Data Sync Status -->
    <div id="sync-status" class="data-sync-status sync-success hidden">
        <i class="fas fa-check-circle mr-2"></i>
        <span>Dữ liệu đã đồng bộ</span>
    </div>

    <!-- Layout Container -->
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
        <div class="sidebar w-80 flex flex-col z-20">
            <!-- Logo -->
            <div class="p-6 border-b border-gray-700 flex items-center justify-between">
                <div class="flex items-center">
                    <div class="w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg">
                        <i class="fas fa-shield-alt text-white text-xl"></i>
                    </div>
                    <div class="ml-4">
                        <h1 class="text-xl font-bold text-white logo-text">CỨU HỘ QUỐC GIA</h1>
                        <p class="text-xs text-gray-300 logo-text">Trung tâm điều hành</p>
                    </div>
                </div>
                <button id="sidebar-toggle" class="text-gray-400 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                    <i class="fas fa-bars text-lg"></i>
                </button>
            </div>
            
            <!-- Navigation -->
            <div class="flex-1 overflow-y-auto py-6">
                <nav class="space-y-2 px-4">
                    <a href="#" class="nav-item active flex items-center px-4 py-3 text-white" data-tab="dashboard">
                        <i class="fas fa-chart-pie text-lg w-6 text-center"></i>
                        <span class="sidebar-text ml-4 font-medium">Tổng quan hệ thống</span>
                    </a>
                    <a href="#" class="nav-item flex items-center px-4 py-3 text-gray-300 hover:text-white" data-tab="news">
                        <i class="fas fa-newspaper text-lg w-6 text-center"></i>
                        <span class="sidebar-text ml-4 font-medium">Quản lý Bản tin</span>
                    </a>
                    <a href="#" class="nav-item flex items-center px-4 py-3 text-gray-300 hover:text-white" data-tab="reports">
                        <i class="fas fa-exclamation-triangle text-lg w-6 text-center"></i>
                        <span class="sidebar-text ml-4 font-medium">Báo cáo khẩn cấp</span>
                        <span class="badge badge-danger ml-auto sidebar-text" id="reports-count">12</span>
                    </a>
                    <a href="#" class="nav-item flex items-center px-4 py-3 text-gray-300 hover:text-white" data-tab="keys">
                        <i class="fas fa-key text-lg w-6 text-center"></i>
                        <span class="sidebar-text ml-4 font-medium">Quản lý Key ID</span>
                    </a>
                    <a href="#" class="nav-item flex items-center px-4 py-3 text-gray-300 hover:text-white" data-tab="users">
                        <i class="fas fa-users text-lg w-6 text-center"></i>
                        <span class="sidebar-text ml-4 font-medium">Quản lý Người dùng</span>
                    </a>
                    <a href="#" class="nav-item flex items-center px-4 py-3 text-gray-300 hover:text-white" data-tab="settings">
                        <i class="fas fa-cogs text-lg w-6 text-center"></i>
                        <span class="sidebar-text ml-4 font-medium">Cài đặt hệ thống</span>
                    </a>
                </nav>
                
                <!-- System Status -->
                <div class="mt-8 mx-4 p-4 bg-gray-800 rounded-xl sidebar-text">
                    <h3 class="text-white font-semibold mb-3">Trạng thái hệ thống</h3>
                    <div class="space-y-3">
                        <div>
                            <div class="flex justify-between text-sm text-gray-300 mb-1">
                                <span>Hiệu suất</span>
                                <span>92%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill bg-green-500" style="width: 92%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm text-gray-300 mb-1">
                                <span>Bộ nhớ</span>
                                <span>78%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill bg-yellow-500" style="width: 78%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm text-gray-300 mb-1">
                                <span>Lưu trữ</span>
                                <span>65%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill bg-blue-500" style="width: 65%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- User Profile -->
            <div class="p-4 border-t border-gray-700">
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-gradient-to-br from-red-400 to-red-500 rounded-full flex items-center justify-center shadow-md">
                        <i class="fas fa-user text-white"></i>
                    </div>
                    <div class="ml-3 user-info">
                        <p class="text-sm font-medium text-white">Nguyễn Văn Admin</p>
                        <p class="text-xs text-gray-400">Quản trị viên cấp cao</p>
                    </div>
                    <button class="ml-auto text-gray-400 hover:text-white transition user-info">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content flex-1 overflow-y-auto ml-0 transition-all duration-300">
            <!-- Header -->
            <header class="glass-effect shadow-sm sticky top-0 z-10">
                <div class="flex justify-between items-center px-8 py-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800" id="page-title">Tổng quan hệ thống</h2>
                        <p class="text-sm text-gray-600 mt-1" id="page-description">Thống kê và phân tích toàn bộ hệ thống cứu hộ quốc gia</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="relative search-box rounded-xl">
                            <input type="text" placeholder="Tìm kiếm..." class="pl-12 pr-4 py-3 bg-transparent rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 w-80">
                            <i class="fas fa-search absolute left-4 top-3.5 text-gray-400"></i>
                        </div>
                        <button class="relative p-3 text-gray-600 hover:text-gray-800 rounded-xl hover:bg-gray-100 transition">
                            <i class="fas fa-bell text-xl"></i>
                            <div class="notification-dot"></div>
                        </button>
                        <button id="sync-data-btn" class="p-3 text-gray-600 hover:text-gray-800 rounded-xl hover:bg-gray-100 transition" title="Đồng bộ dữ liệu">
                            <i class="fas fa-sync-alt text-xl"></i>
                        </button>
                        <button class="p-3 text-gray-600 hover:text-gray-800 rounded-xl hover:bg-gray-100 transition">
                            <i class="fas fa-cog text-xl"></i>
                        </button>
                        <div class="w-px h-8 bg-gray-300"></div>
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-red-400 to-red-500 rounded-full flex items-center justify-center shadow-md">
                                <i class="fas fa-user text-white"></i>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-gray-800">Nguyễn Văn Admin</p>
                                <p class="text-xs text-gray-500">Quản trị viên</p>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Content -->
            <main class="p-8">
                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-content active">
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="stat-card card p-6">
                            <div class="flex items-center">
                                <div class="w-14 h-14 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg">
                                    <i class="fas fa-exclamation-triangle text-white text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Sự cố đang xử lý</p>
                                    <p class="text-2xl font-bold text-gray-800" id="active-incidents">24</p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center text-sm">
                                    <span class="text-green-500 flex items-center font-medium">
                                        <i class="fas fa-arrow-up mr-1"></i> 12%
                                    </span>
                                    <span class="text-gray-500 ml-2">so với tuần trước</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card card p-6">
                            <div class="flex items-center">
                                <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg">
                                    <i class="fas fa-newspaper text-white text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Bản tin đã đăng</p>
                                    <p class="text-2xl font-bold text-gray-800" id="total-news">156</p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center text-sm">
                                    <span class="text-green-500 flex items-center font-medium">
                                        <i class="fas fa-arrow-up mr-1"></i> 8%
                                    </span>
                                    <span class="text-gray-500 ml-2">so với tháng trước</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card card p-6">
                            <div class="flex items-center">
                                <div class="w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg">
                                    <i class="fas fa-users text-white text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Người dùng hoạt động</p>
                                    <p class="text-2xl font-bold text-gray-800" id="active-users">2,847</p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center text-sm">
                                    <span class="text-green-500 flex items-center font-medium">
                                        <i class="fas fa-arrow-up mr-1"></i> 5%
                                    </span>
                                    <span class="text-gray-500 ml-2">so với tháng trước</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stat-card card p-6">
                            <div class="flex items-center">
                                <div class="w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg">
                                    <i class="fas fa-key text-white text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-gray-500">Key ID đang hoạt động</p>
                                    <p class="text-2xl font-bold text-gray-800" id="active-keys">42</p>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="flex items-center text-sm">
                                    <span class="text-red-500 flex items-center font-medium">
                                        <i class="fas fa-arrow-down mr-1"></i> 3%
                                    </span>
                                    <span class="text-gray-500 ml-2">so với tháng trước</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Charts and Recent Activity -->
                    <div class="grid grid-cols-1 xl:grid-cols-3 gap-6 mb-8">
                        <!-- Activity Chart -->
                        <div class="card p-6 xl:col-span-2">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-lg font-semibold text-gray-800">Hoạt động hệ thống (7 ngày)</h3>
                                <div class="flex space-x-2">
                                    <button class="px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-lg font-medium">Tuần</button>
                                    <button class="px-3 py-1 text-sm bg-red-500 text-white rounded-lg font-medium">Tháng</button>
                                    <button class="px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-lg font-medium">Năm</button>
                                </div>
                            </div>
                            <div class="h-80">
                                <canvas id="activityChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Recent Reports -->
                        <div class="card p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-lg font-semibold text-gray-800">Báo cáo gần đây</h3>
                                <a href="#" class="text-sm text-red-600 hover:text-red-800 font-medium">Xem tất cả</a>
                            </div>
                            <div class="space-y-4 max-h-80 overflow-y-auto" id="recent-reports">
                                <!-- Recent reports will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Actions and System Overview -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Quick Actions -->
                        <div class="card p-6">
                            <h3 class="text-lg font-semibold text-gray-800 mb-6">Thao tác nhanh</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <button class="quick-action-btn flex flex-col items-center justify-center p-4 bg-red-50 rounded-xl hover:bg-red-100 transition group" data-action="add-news">
                                    <div class="w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center text-white mb-3 group-hover:scale-110 transition">
                                        <i class="fas fa-plus-circle text-lg"></i>
                                    </div>
                                    <span class="text-sm font-medium text-gray-800">Thêm bản tin</span>
                                </button>
                                <button class="quick-action-btn flex flex-col items-center justify-center p-4 bg-blue-50 rounded-xl hover:bg-blue-100 transition group" data-action="add-key">
                                    <div class="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center text-white mb-3 group-hover:scale-110 transition">
                                        <i class="fas fa-key text-lg"></i>
                                    </div>
                                    <span class="text-sm font-medium text-gray-800">Tạo Key mới</span>
                                </button>
                                <button class="quick-action-btn flex flex-col items-center justify-center p-4 bg-green-50 rounded-xl hover:bg-green-100 transition group" data-action="add-user">
                                    <div class="w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center text-white mb-3 group-hover:scale-110 transition">
                                        <i class="fas fa-user-plus text-lg"></i>
                                    </div>
                                    <span class="text-sm font-medium text-gray-800">Thêm người dùng</span>
                                </button>
                                <button class="quick-action-btn flex flex-col items-center justify-center p-4 bg-purple-50 rounded-xl hover:bg-purple-100 transition group" data-action="view-reports">
                                    <div class="w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center text-white mb-3 group-hover:scale-110 transition">
                                        <i class="fas fa-chart-bar text-lg"></i>
                                    </div>
                                    <span class="text-sm font-medium text-gray-800">Xem báo cáo</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- System Overview -->
                        <div class="card p-6 lg:col-span-2">
                            <h3 class="text-lg font-semibold text-gray-800 mb-6">Tổng quan hệ thống</h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                                <div class="text-center">
                                    <div class="w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center text-white mx-auto mb-3 shadow-md">
                                        <i class="fas fa-bullhorn text-xl"></i>
                                    </div>
                                    <p class="text-sm text-gray-600">Sự cố hôm nay</p>
                                    <p class="text-2xl font-bold text-gray-800 mt-1" id="today-incidents">8</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center text-white mx-auto mb-3 shadow-md">
                                        <i class="fas fa-check-circle text-xl"></i>
                                    </div>
                                    <p class="text-sm text-gray-600">Đã giải quyết</p>
                                    <p class="text-2xl font-bold text-gray-800 mt-1" id="resolved-incidents">142</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center text-white mx-auto mb-3 shadow-md">
                                        <i class="fas fa-map-marker-alt text-xl"></i>
                                    </div>
                                    <p class="text-sm text-gray-600">Tỉnh thành</p>
                                    <p class="text-2xl font-bold text-gray-800 mt-1" id="total-provinces">63</p>
                                </div>
                                <div class="text-center">
                                    <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center text-white mx-auto mb-3 shadow-md">
                                        <i class="fas fa-clock text-xl"></i>
                                    </div>
                                    <p class="text-sm text-gray-600">Thời gian phản hồi</p>
                                    <p class="text-2xl font-bold text-gray-800 mt-1" id="avg-response-time">5.2p</p>
                                </div>
                            </div>
                            <div class="mt-6 pt-6 border-t border-gray-200">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <p class="text-sm text-gray-600">Thời gian hoạt động</p>
                                        <p class="text-lg font-bold text-gray-800">99.8%</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-sm text-gray-600">Phiên bản hệ thống</p>
                                        <p class="text-lg font-bold text-gray-800">v2.4.1</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- News Management Tab -->
                <div id="news" class="tab-content">
                    <div class="card p-6 mb-6">
                        <div class="flex justify-between items-center mb-6">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Quản lý Bản tin</h3>
                                <p class="text-gray-600 mt-1">Quản lý và xuất bản các bản tin khẩn cấp</p>
                            </div>
                            <div class="flex space-x-3">
                                <button id="sync-news-btn" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition flex items-center">
                                    <i class="fas fa-sync-alt mr-2"></i>
                                    Đồng bộ từ trang tin
                                </button>
                                <button id="export-news-btn" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition flex items-center">
                                    <i class="fas fa-download mr-2"></i>
                                    Xuất Excel
                                </button>
                                <button id="add-news-btn" class="btn-primary text-white px-5 py-3 rounded-xl font-medium flex items-center">
                                    <i class="fas fa-plus mr-2"></i>
                                    Thêm Bản tin mới
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto rounded-xl shadow-custom">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tiêu đề</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ngày</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Loại</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Trạng thái</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Hành động</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="news-table-body">
                                    <!-- News data will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Reports Management Tab -->
                <div id="reports" class="tab-content">
                    <div class="card p-6 mb-6">
                        <div class="flex justify-between items-center mb-6">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Quản lý Báo cáo Khẩn cấp</h3>
                                <p class="text-gray-600 mt-1">Xem và xử lý các báo cáo khẩn cấp từ người dùng</p>
                            </div>
                            <div class="flex space-x-3">
                                <button id="filter-reports-btn" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition flex items-center">
                                    <i class="fas fa-filter mr-2"></i>
                                    Lọc
                                </button>
                                <button id="export-reports-btn" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition flex items-center">
                                    <i class="fas fa-download mr-2"></i>
                                    Xuất Excel
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto rounded-xl shadow-custom">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Loại sự cố</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Địa điểm</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mức độ</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Thời gian</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Trạng thái</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Hành động</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="reports-table-body">
                                    <!-- Reports data will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Keys Management Tab -->
                <div id="keys" class="tab-content">
                    <div class="card p-6 mb-6">
                        <div class="flex justify-between items-center mb-6">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Quản lý Key ID</h3>
                                <p class="text-gray-600 mt-1">Tạo và quản lý các Key ID cho đơn vị cứu hộ</p>
                            </div>
                            <button id="add-key-btn" class="btn-primary text-white px-5 py-3 rounded-xl font-medium flex items-center">
                                <i class="fas fa-plus mr-2"></i>
                                Tạo Key mới
                            </button>
                        </div>
                        
                        <div class="overflow-x-auto rounded-xl shadow-custom">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Key ID</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Loại Key</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Người sở hữu</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ngày tạo</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Hạn sử dụng</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Trạng thái</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Hành động</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="keys-table-body">
                                    <!-- Keys data will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Users Management Tab -->
                <div id="users" class="tab-content">
                    <div class="card p-6 mb-6">
                        <div class="flex justify-between items-center mb-6">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Quản lý Người dùng</h3>
                                <p class="text-gray-600 mt-1">Quản lý tài khoản người dùng và phân quyền</p>
                            </div>
                            <button id="add-user-btn" class="btn-primary text-white px-5 py-3 rounded-xl font-medium flex items-center">
                                <i class="fas fa-plus mr-2"></i>
                                Thêm Người dùng
                            </button>
                        </div>
                        
                        <div class="overflow-x-auto rounded-xl shadow-custom">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tên đăng nhập</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Họ tên</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Vai trò</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Trạng thái</th>
                                        <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Hành động</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="users-table-body">
                                    <!-- Users data will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Settings Tab -->
                <div id="settings" class="tab-content">
                    <div class="card p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-6">Cài đặt Hệ thống</h3>
                        <p class="text-gray-600">Nội dung cài đặt hệ thống sẽ được hiển thị tại đây.</p>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="floating-action" id="quick-action-btn">
        <i class="fas fa-plus"></i>
    </div>

    <!-- News Modal -->
    <div id="news-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal">
        <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-screen overflow-y-auto">
            <div class="p-8">
                <div class="flex justify-between items-center mb-8">
                    <h3 id="news-modal-title" class="text-2xl font-bold text-gray-900">Thêm Bản tin mới</h3>
                    <button id="close-news-modal" class="text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form id="news-form" class="space-y-6">
                    <input type="hidden" id="news-id" value="">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="news-title" class="block text-sm font-medium text-gray-700 mb-2">Tiêu đề *</label>
                            <input type="text" id="news-title" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                        <div>
                            <label for="news-date" class="block text-sm font-medium text-gray-700 mb-2">Ngày *</label>
                            <input type="date" id="news-date" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="news-type" class="block text-sm font-medium text-gray-700 mb-2">Loại *</label>
                            <select id="news-type" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                                <option value="">Chọn loại</option>
                                <option value="thien-tai">Thiên tai</option>
                                <option value="tai-nan">Tai nạn</option>
                                <option value="cuu-ho">Cứu hộ</option>
                                <option value="canh-bao">Cảnh báo</option>
                            </select>
                        </div>
                        <div>
                            <label for="news-status" class="block text-sm font-medium text-gray-700 mb-2">Trạng thái</label>
                            <select id="news-status" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                                <option value="published">Đã đăng</option>
                                <option value="draft">Bản nháp</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label for="news-location" class="block text-sm font-medium text-gray-700 mb-2">Vị trí (cách nhau bằng dấu phẩy) *</label>
                        <input type="text" id="news-location" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                    </div>
                    <div>
                        <label for="news-img" class="block text-sm font-medium text-gray-700 mb-2">URL Hình ảnh *</label>
                        <input type="url" id="news-img" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        <div id="image-preview" class="mt-2"></div>
                    </div>
                    <div>
                        <label for="news-content" class="block text-sm font-medium text-gray-700 mb-2">Nội dung (HTML) *</label>
                        <textarea id="news-content" rows="8" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition"></textarea>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" id="cancel-news-btn" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition">
                            Hủy bỏ
                        </button>
                        <button type="submit" class="btn-primary text-white px-6 py-3 rounded-xl font-medium flex items-center">
                            <i class="fas fa-save mr-2"></i>
                            Lưu Bản tin
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- News Detail Modal -->
    <div id="news-detail-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal">
        <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-screen overflow-y-auto">
            <div class="p-8">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-2xl font-bold text-gray-900">Chi tiết Bản tin</h3>
                    <button id="close-news-detail-modal" class="text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="space-y-6">
                    <div>
                        <img id="detail-news-img" src="" alt="" class="w-full h-64 object-cover rounded-xl mb-4">
                        <h2 id="detail-news-title" class="text-2xl font-bold text-gray-900 mb-4"></h2>
                        
                        <div class="grid grid-cols-2 gap-4 mb-4">
                            <div>
                                <p class="text-sm text-gray-600">Ngày đăng</p>
                                <p id="detail-news-date" class="font-medium"></p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Loại tin</p>
                                <p id="detail-news-type" class="font-medium"></p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Địa điểm</p>
                                <p id="detail-news-location" class="font-medium"></p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Trạng thái</p>
                                <p id="detail-news-status" class="font-medium"></p>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold text-gray-800 mb-3">Nội dung</h4>
                        <div id="detail-news-content" class="prose max-w-none bg-gray-50 p-4 rounded-lg"></div>
                    </div>
                    
                    <div class="flex justify-end space-x-4 pt-6 border-t">
                        <button id="edit-from-detail-btn" class="btn-primary text-white px-6 py-3 rounded-xl font-medium flex items-center">
                            <i class="fas fa-edit mr-2"></i>
                            Sửa Bản tin
                        </button>
                        <button id="close-detail-modal" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition">
                            Đóng
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Key Generation Modal -->
    <div id="key-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal">
        <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full">
            <div class="p-8">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-2xl font-bold text-gray-900">Tạo Key ID mới</h3>
                    <button id="close-key-modal" class="text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form id="key-form" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="key-type" class="block text-sm font-medium text-gray-700 mb-2">Loại Key *</label>
                            <select id="key-type" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                                <option value="">Chọn loại key</option>
                                <option value="fire">Cứu hỏa</option>
                                <option value="police">Công an</option>
                                <option value="medical">Y tế</option>
                                <option value="rescuer">Cứu hộ</option>
                                <option value="admin">Quản trị</option>
                            </select>
                        </div>
                        <div>
                            <label for="key-owner" class="block text-sm font-medium text-gray-700 mb-2">Người/Tổ chức sở hữu *</label>
                            <input type="text" id="key-owner" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                    </div>
                    <div>
                        <label for="key-expiry" class="block text-sm font-medium text-gray-700 mb-2">Thời hạn (ngày) *</label>
                        <select id="key-expiry" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                            <option value="30">30 ngày</option>
                            <option value="90">90 ngày</option>
                            <option value="180">180 ngày</option>
                            <option value="365">1 năm</option>
                            <option value="0">Vĩnh viễn</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Quyền hạn</label>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="flex items-center">
                                <input id="perm-reports" name="permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="perm-reports" class="ml-2 block text-sm text-gray-700">Xem báo cáo</label>
                            </div>
                            <div class="flex items-center">
                                <input id="perm-respond" name="permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="perm-respond" class="ml-2 block text-sm text-gray-700">Phản hồi</label>
                            </div>
                            <div class="flex items-center">
                                <input id="perm-create" name="permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="perm-create" class="ml-2 block text-sm text-gray-700">Tạo sự kiện</label>
                            </div>
                            <div class="flex items-center">
                                <input id="perm-admin" name="permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="perm-admin" class="ml-2 block text-sm text-gray-700">Quản trị</label>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" id="cancel-key-btn" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition">
                            Hủy bỏ
                        </button>
                        <button type="submit" class="btn-primary text-white px-6 py-3 rounded-xl font-medium flex items-center">
                            <i class="fas fa-key mr-2"></i>
                            Tạo Key ID
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Key Modal -->
    <div id="edit-key-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal">
        <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full">
            <div class="p-8">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-2xl font-bold text-gray-900">Chỉnh sửa Key ID</h3>
                    <button id="close-edit-key-modal" class="text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form id="edit-key-form" class="space-y-6">
                    <input type="hidden" id="edit-key-id" value="">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="edit-key-type" class="block text-sm font-medium text-gray-700 mb-2">Loại Key *</label>
                            <select id="edit-key-type" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                                <option value="">Chọn loại key</option>
                                <option value="fire">Cứu hỏa</option>
                                <option value="police">Công an</option>
                                <option value="medical">Y tế</option>
                                <option value="rescuer">Cứu hộ</option>
                                <option value="admin">Quản trị</option>
                            </select>
                        </div>
                        <div>
                            <label for="edit-key-owner" class="block text-sm font-medium text-gray-700 mb-2">Người/Tổ chức sở hữu *</label>
                            <input type="text" id="edit-key-owner" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="edit-key-created" class="block text-sm font-medium text-gray-700 mb-2">Ngày tạo</label>
                            <input type="date" id="edit-key-created" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                        <div>
                            <label for="edit-key-expiry" class="block text-sm font-medium text-gray-700 mb-2">Hạn sử dụng</label>
                            <input type="date" id="edit-key-expiry" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                    </div>
                    <div>
                        <label for="edit-key-status" class="block text-sm font-medium text-gray-700 mb-2">Trạng thái</label>
                        <select id="edit-key-status" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                            <option value="active">Hoạt động</option>
                            <option value="inactive">Đã khóa</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Quyền hạn</label>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="flex items-center">
                                <input id="edit-perm-reports" name="edit-permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="edit-perm-reports" class="ml-2 block text-sm text-gray-700">Xem báo cáo</label>
                            </div>
                            <div class="flex items-center">
                                <input id="edit-perm-respond" name="edit-permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="edit-perm-respond" class="ml-2 block text-sm text-gray-700">Phản hồi</label>
                            </div>
                            <div class="flex items-center">
                                <input id="edit-perm-create" name="edit-permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="edit-perm-create" class="ml-2 block text-sm text-gray-700">Tạo sự kiện</label>
                            </div>
                            <div class="flex items-center">
                                <input id="edit-perm-admin" name="edit-permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="edit-perm-admin" class="ml-2 block text-sm text-gray-700">Quản trị</label>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" id="cancel-edit-key-btn" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition">
                            Hủy bỏ
                        </button>
                        <button type="submit" class="btn-primary text-white px-6 py-3 rounded-xl font-medium flex items-center">
                            <i class="fas fa-save mr-2"></i>
                            Cập nhật Key
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- User Management Modal -->
    <div id="user-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal">
        <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full">
            <div class="p-8">
                <div class="flex justify-between items-center mb-8">
                    <h3 id="user-modal-title" class="text-2xl font-bold text-gray-900">Thêm Người dùng mới</h3>
                    <button id="close-user-modal" class="text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form id="user-form" class="space-y-6">
                    <input type="hidden" id="user-id" value="">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="user-username" class="block text-sm font-medium text-gray-700 mb-2">Tên đăng nhập *</label>
                            <input type="text" id="user-username" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                        <div>
                            <label for="user-password" class="block text-sm font-medium text-gray-700 mb-2">Mật khẩu *</label>
                            <input type="password" id="user-password" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="user-fullname" class="block text-sm font-medium text-gray-700 mb-2">Họ và tên *</label>
                            <input type="text" id="user-fullname" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                        <div>
                            <label for="user-email" class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                            <input type="email" id="user-email" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="user-role" class="block text-sm font-medium text-gray-700 mb-2">Vai trò *</label>
                            <select id="user-role" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                                <option value="">Chọn vai trò</option>
                                <option value="admin">Quản trị viên</option>
                                <option value="moderator">Điều phối viên</option>
                                <option value="rescuer">Nhân viên cứu hộ</option>
                                <option value="viewer">Người xem</option>
                            </select>
                        </div>
                        <div>
                            <label for="user-status" class="block text-sm font-medium text-gray-700 mb-2">Trạng thái</label>
                            <select id="user-status" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition">
                                <option value="active">Hoạt động</option>
                                <option value="inactive">Đã khóa</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Quyền hạn</label>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="flex items-center">
                                <input id="user-perm-news" name="user-permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="user-perm-news" class="ml-2 block text-sm text-gray-700">Quản lý bản tin</label>
                            </div>
                            <div class="flex items-center">
                                <input id="user-perm-reports" name="user-permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="user-perm-reports" class="ml-2 block text-sm text-gray-700">Xem báo cáo</label>
                            </div>
                            <div class="flex items-center">
                                <input id="user-perm-respond" name="user-permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="user-perm-respond" class="ml-2 block text-sm text-gray-700">Phản hồi sự cố</label>
                            </div>
                            <div class="flex items-center">
                                <input id="user-perm-users" name="user-permissions" type="checkbox" class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded">
                                <label for="user-perm-users" class="ml-2 block text-sm text-gray-700">Quản lý người dùng</label>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-end space-x-4 pt-4">
                        <button type="button" id="cancel-user-btn" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition">
                            Hủy bỏ
                        </button>
                        <button type="submit" class="btn-primary text-white px-6 py-3 rounded-xl font-medium flex items-center">
                            <i class="fas fa-save mr-2"></i>
                            Lưu Người dùng
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Generated Key Modal -->
    <div id="generated-key-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 modal">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full">
            <div class="p-8">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-900">Key ID đã được tạo</h3>
                    <button id="close-generated-key-modal" class="text-gray-400 hover:text-gray-500">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="bg-gray-50 p-4 rounded-xl mb-6">
                    <p class="text-sm text-gray-600 mb-2">Key ID mới của bạn:</p>
                    <p id="new-key-value" class="font-mono text-lg font-bold text-red-600 break-all">RESCUE-KEY-XXXX-XXXX-XXXX</p>
                </div>
                
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-exclamation-triangle text-yellow-400 text-xl"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-yellow-700">Hãy lưu lại Key ID này ngay bây giờ. Bạn sẽ không thể xem lại nó sau khi đóng cửa sổ này.</p>
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-between">
                    <button id="copy-key-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl font-medium transition flex items-center">
                        <i class="fas fa-copy mr-2"></i>
                        Sao chép
                    </button>
                    <button id="close-and-save-modal" class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded-xl font-medium transition">
                        Đã lưu, đóng cửa sổ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Link to external JavaScript -->
    <script src="assets/js/admin.js"></script>
</body>
</html>